<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MyPlantPal â€” Blue</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>MyPlantPal</h1>
    <p>Your virtual garden â€” never forget to water again ðŸŒ¿</p>
    <div class="top-buttons">
      <button class="premium-btn" id="upgradeBtn">Upgrade to Premium</button>
    </div>
    <div id="authSection">
    <button id="loginBtn">Sign in with Google</button>
    <button id="logoutBtn">Log out</button>
    <p id="userInfo"></p>
  </div>
</header>

  <section class="add-plant">
    <h2>Add a plant</h2>
    <div class="add-controls">
      <input type="text" id="plantName" placeholder="Plant name (e.g. Monstera)" />
      <select id="wateringSchedule">
        <option value="3">Every 3 days</option>
        <option value="7">Weekly</option>
        <option value="14">Fortnightly</option>
        <option value="30">Monthly</option>
      </select>
      <input type="file" id="plantImage" accept="image/*" />
      <button id="addPlantBtn">Add Plant</button>
    </div>
    <p class="note">Free: up to 3 plants â€¢ Premium: unlimited + background reminders</p>
  </section>

  <section id="plantList" class="plant-list"></section>

  <footer>Â© 2025 MyPlantPal</footer>

  <script src="script.js"></script>
  <script type="module">
  // Import Firebase SDKs
  import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } 
    from "https://www.gstatic.com/firebasejs/11.0.1/firebase-auth.js";

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCEfWsCSdk684OyheBrnZe-xOlRxmo45WA",
    authDomain: "myplantpal-291db.firebaseapp.com",
    projectId: "myplantpal-291db",
    storageBucket: "myplantpal-291db.firebasestorage.app",
    messagingSenderId: "752376388937",
    appId: "1:752376388937:web:055572559b186ed8ea8e98"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const provider = new GoogleAuthProvider();

  // Sign in with Google
  document.getElementById('loginBtn').addEventListener('click', async () => {
    try {
      const result = await signInWithPopup(auth, provider);
      const user = result.user;
      document.getElementById('userInfo').textContent = `ðŸŒ¿ Welcome, ${user.displayName}!`;
    } catch (error) {
      console.error('Error signing in:', error);
    }
  });

  // Sign out
  document.getElementById('logoutBtn').addEventListener('click', async () => {
    await signOut(auth);
    document.getElementById('userInfo').textContent = '';
  });

  // Detect login state
  onAuthStateChanged(auth, (user) => {
    if (user) {
      document.getElementById('userInfo').textContent = `ðŸŒ± Hello, ${user.displayName}`;
    } else {
      document.getElementById('userInfo').textContent = '';
    }
  });
</script>
</body>
</html>
